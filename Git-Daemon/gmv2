#!/usr/bin/env bash
# set -x;
DISP=1
declare OPER
declare FORCE
declare BRANCH
declare DIRECTORY;
_net_(){
  ping "google.com" -c 2 1>/dev/null 2>&1;
  net_status=$?
  if [[ $net_status -ne 0 ]]; then
    sleep 2
    if [[ $DISP -ne 0 ]]; then
      DISP=0
      echo -en "\E[1;31m You are offline üòñ PS:(\E[m\n \E[1;33m Waiting for internet connection to come back ... ü§¢ü§¢ \E[m";
    fi
    _net_
  else
          echo -e "\E[5;35m \E[1m you are Online PS üëç :)\E[m \E[m";
  fi
  return $?
}
_exec_ops(){
  # check internet connectivity
  echo -ne "\033[1;33m Checking your connection...üëÄ \033[m"
  _net_
}

_(){
   while true;do
     case $1 in
       -o | --op )
         OPER=$2;shift 2;
         ;;
       -f | --force )
       FORCE="--force";shift;
         ;;
         -b | --branch )
         BRANCH=$2;shift 2;
           ;;
         -d | --directory )
         DIRECTORY=$2;shift 2;
           ;;
       -h | --help )
         echo -e "Usage:
$0 [ARGS]

ARGS:
-h --help get help menu.
-o --op opration to perform.
-f --force force the operation.
-d --directory directory to push.
-b --branch branch to carry operations on."
         exit 0;
         ;;
         *) exit 0;
     esac
   done

   _exec_ops
}
_ $@
